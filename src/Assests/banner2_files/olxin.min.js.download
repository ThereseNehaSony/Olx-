"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],a=!0,r=!1,s=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){r=!0,s=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw s}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function _objectSpread(e){for(var t,i=1;i<arguments.length;i++)t=null==arguments[i]?{}:arguments[i],i%2?ownKeys(t,!0).forEach(function(i){_defineProperty(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))});return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i,a=0;a<t.length;a++)(i=t[a]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var baxter_ads=function(){function e(){_classCallCheck(this,e),this.queue=[],this.state={slots:{},breakpoints:[],breakpoint:null,page:null,userAction:{scrolled:!1,mouseMoved:!1},providers:["dfp"]},this.config={},this.features={},this.helpers={},this.providers={},this.dependencies=["https://www.googletagservices.com/tag/js/gpt.js"],this.config.slotContainers={results:{"baxter-ads-results-top":{top:null},"baxter-ads-results-top-sticky":{"top-sticky":null},"baxter-ads-results-bottom":{bottom:null},"baxter-ads-results-middle1":{middle:null},"baxter-ads-results-middle2":{middle:null},"baxter-ads-results-middle3":{middle:null},"baxter-ads-results-middle4":{middle:null},"baxter-ads-results-middle5":{middle:null},"baxter-ads-results-middle6":{middle:null},"baxter-ads-results-middle7":{middle:null},"baxter-ads-results-middle8":{middle:null},"baxter-ads-results-middle9":{middle:null}},details:{"baxter-ads-details-middle":{middle:null},"baxter-ads-details-middle-bottom":{"middle-bottom":null},"baxter-ads-details-bottom":{bottom:null},"baxter-ads-details-top":{top:null}},home:{"baxter-ads-home-bottom":{bottom:null},"baxter-ads-home-top":{top:null},"baxter-ads-home-middle1":{middle:null},"baxter-ads-home-middle2":{middle:null},"baxter-ads-home-middle3":{middle:null},"baxter-ads-home-middle4":{middle:null},"baxter-ads-home-middle5":{middle:null},"baxter-ads-home-middle6":{middle:null}},gallery:{"baxter-ads-gallery-full":{full:null}},chat:{"baxter-ads-chat-full":{full:null}}},this.config.enabledSlots={results:{top:!0,"top-sticky":!0,bottom:!0,middle1:!0,middle2:!0,middle3:!0,middle4:!0,middle5:!0,middle6:!0,middle7:!0,middle8:!0,middle9:!0,middle:!0},details:{middle:!0,"middle-bottom":!0,top:!0,bottom:!0},home:{top:!0,bottom:!0,middle1:!0,middle2:!0,middle3:!0,middle4:!0,middle5:!0,middle6:!0,middle:!0},gallery:{full:!0},chat:{full:!0}},this.config.providerSlots={dfp:{path:{results:{default:[["${category.L1.key}_lpv","${category.L2.key}","${filters.make.key}","${filters.property_type.key}","${filters.brand.key}"]],"top-sticky":[["${category.L1.key}_lpv","${category.L1.key}_lpv_Sticky_Banner"]]},default:{default:[["${category.L1.key}_dpv","${category.L2.key}","${itemParameters.make.value}","${itemParameters.property_type.value}","${itemParameters.brand.value}"]]},home:{default:[["home"]]},gallery:{default:[["IN_Mobile_Interstitial_Mweb"]]},chat:{default:[["IN_Mobile_Interstitial_Mweb"]]}},targeting:{default:{default:[{type:"param",value:"selectedLocation.addressComponents[2].name",key:"city"},{type:"param",value:"filters.order.name",key:"sort_by"},{type:"param",value:"filters.listed_by.name",key:"listed_by"},{type:"param",value:"page",key:"page_type"},{type:"param",value:"filters.brokerfree.name",key:"broker_fee"},{type:"param",value:"selectedLocation.addressComponents[0].name",key:"country"},{type:"param",value:"filters.fuel_type.name",key:"fuel_type"},{type:"param",value:"filters.pets.name",key:"pets_allowed"},{type:"param",value:"filters.property_type.name",key:"property_type"},{type:"param",value:"filters.model.name",key:"model"},{type:"param",value:"selectedLocation.addressComponents[3].name",key:"neighbourhood"},{type:"param",value:"category.L1.key",key:"site_cat_1"},{type:"param",value:"filters.transmission.name",key:"transmission"},{type:"static",value:"inr",key:"currency"},{type:"param",value:"filters.cartype.name",key:"cartype"},{type:"param",value:"slot",key:"pos"},{type:"bucket",value:"price_buckets:filters.price",key:"price_band_inr"},{type:"bucket",value:"generic_buckets:filters.mileage",key:"mileage"},{type:"param",value:"filters.make.name",key:"make"},{type:"param",value:"selectedLocation.addressComponents[1].name",key:"state"},{type:"range",value:"filters.year",key:"year"},{type:"param",value:"category.L2.key",key:"site_cat_2"},{type:"param-keys",value:"miscParameters",key:"value_name"},{type:"param",value:"visualisationType",key:"visualisation"},{type:"param",value:"filters.property_type.key",key:"site_cat_3"},{type:"param",value:"filters.furnished.name",key:"furnished"},{type:"param",value:"filters.condition.name",key:"condition"},{type:"param",value:"filters.make.key",key:"site_cat_3"},{type:"param",value:"filters.brand.key",key:"site_cat_3"},{type:"param",value:"params.text",key:"search_term"},]},details:{default:[{type:"param",value:"item.price.value.raw",key:"price_inr"},{type:"param",value:"page",key:"page_type"},{type:"param-keys",value:"itemParameters",key:"value_name"},{type:"param",value:"itemParameters.brand.value",key:"site_cat_3"},{type:"static",value:"inr",key:"currency"},{type:"bucket",value:"price_buckets:item.price.value.raw",key:"price_band_inr"},{type:"param",value:"slot",key:"pos"},{type:"param",value:"item.metadata.locations[0].tree[0].name",key:"neighbourhood"},{type:"param",value:"itemParameters.property_type.value",key:"site_cat_3"},{type:"param",value:"item.title",key:"listing_title"},{type:"param",value:"item.metadata.locations[0].tree[1].name",key:"city"},{type:"param",value:"category.L2.key",key:"site_cat_2"},{type:"param-keys",value:"miscParameters",key:"value_name"},{type:"bucket",value:"generic_buckets:itemParameters.mileage.value",key:"mileage"},{type:"param",value:"item.metadata.locations[0].tree[2].name",key:"state"},{type:"param",value:"itemParameters.make.value",key:"site_cat_3"},{type:"param",value:"item.user_id",key:"seller_id"},{type:"param",value:"item.metadata.locations[0].tree[3].name",key:"country"},{type:"param",value:"category.L1.key",key:"site_cat_1"},],middle:[{type:"param",value:"item.price.value.raw",key:"price_inr"},{type:"param",value:"page",key:"page_type"},{type:"param-keys",value:"itemParameters",key:"value_name"},{type:"param",value:"itemParameters.brand.value",key:"site_cat_3"},{type:"static",value:"inr",key:"currency"},{type:"bucket",value:"price_buckets:item.price.value.raw",key:"price_band_inr"},{type:"param",value:"slot",key:"pos"},{type:"param",value:"item.metadata.locations[0].tree[0].name",key:"neighbourhood"},{type:"param",value:"itemParameters.property_type.value",key:"site_cat_3"},{type:"param",value:"item.title",key:"listing_title"},{type:"param",value:"item.metadata.locations[0].tree[1].name",key:"city"},{type:"param",value:"category.L2.key",key:"site_cat_2"},{type:"param-keys",value:"miscParameters",key:"value_name"},{type:"bucket",value:"generic_buckets:itemParameters.mileage.value",key:"mileage"},{type:"param",value:"item.metadata.locations[0].tree[2].name",key:"state"},{type:"param",value:"itemParameters.make.value",key:"site_cat_3"},{type:"param",value:"item.user_id",key:"seller_id"},{type:"param",value:"item.metadata.locations[0].tree[3].name",key:"country"},{type:"param",value:"category.L1.key",key:"site_cat_1"},{type:"param",value:"item.id",key:"ad_id"},]}},size:{home:{middle:[{viewport:[320,100],slot:[[336,280],[300,250],"fluid"]}]},results:{top:[{viewport:[320,100],slot:[[320,100],[320,50],]},{viewport:[960,200],slot:[[728,90]]},{viewport:[1070,200],slot:[[1280,250],[970,250],[970,90],[728,90],]},],"top-sticky":[{viewport:[320,100],slot:[[320,50]]}],bottom:[{viewport:[320,100],slot:[[300,250],"fluid"]},{viewport:[960,200],slot:[[300,250],[728,90],]},{viewport:[1070,200],slot:[728,90]},],middle:[{viewport:[320,100],slot:[[300,50],[300,100],[300,250],[320,50],[320,100],]},]},default:{default:[{viewport:[1070,200],slot:[[1280,250],[970,250],[970,90],[728,90],]},{viewport:[960,200],slot:[[728,90]]},{viewport:[320,100],slot:[[320,100],[320,50],"fluid"]},],middle:[{viewport:[320,100],slot:[[300,250],"fluid"]},{viewport:[960,200],slot:["fluid"]},{viewport:[1070,200],slot:["fluid"]},],"middle-bottom":[{viewport:[320,100],slot:[[336,280],[300,250],[1,1],]},{viewport:[960,200],slot:[[336,280],[300,250],[1,1],]},{viewport:[1070,200],slot:[1,1]},],bottom:[{viewport:[320,100],slot:[[300,250],"fluid"]},{viewport:[960,200],slot:[[300,250],[728,90],]},{viewport:[1070,200],slot:[[1280,250],[970,250],[970,90],[728,90],]},],full:[{viewport:[320,100],slot:[[300,250],[320,480],"fluid"]}]},details:{top:[{viewport:[320,100],slot:[[320,100]]},{viewport:[960,200],slot:[[728,90]]},{viewport:[1070,200],slot:[[1280,250],[970,250],[970,90],[728,90],]},],bottom:[{viewport:[320,100],slot:[[300,250],"fluid"]},{viewport:[960,200],slot:[[300,250],[728,90],]},{viewport:[1070,200],slot:[[300,600],[300,250],]},]}},styling:{default:{default:"max-width: none;",middle:"max-height: none; max-width: none; overflow: visible;","middle-bottom":"max-height: none; max-width: none;",bottom:null},home:{bottom:"max-width: none;"}}}},this.config.assignment={default:{default:"dfp"}},this.config.providerSettings={dfp:{accountId:"66431097",pathPrefix:[["${config.country}_${config.device}"]],enableSingleRequest:!1,collapseEmptyDivs:"before"}},this.config.responsiveSettings={breakpoints:{0:"mobile",1070:"desktop"}},this.config.cdnDomain="https://baxter-cdn.production.olxssa.com",this.config.apiDomain="https://baxter-api.olxssa.com",this.config.adsDomain="https://baxter-native.olxssa.com",this.config.siteCode="olxin",this.config.country="IN",this.config.currency="inr",this.config.service={environment:"production",version:"1.0.5"},this.config.buckets={generic_buckets:[0,50,100,200,300,500,1e3,1500,2e3,3e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,1e7,1e8,1e9,2e9],price_buckets:[0,1e3,2e3,5e3,7500,1e4,15e3,2e4,3e4,5e4,75e3,1e5,15e4,2e5,25e4,3e5,4e5,5e5,75e4,1e6,15e5,2e6,3e6,5e6,75e5,1e7,15e6,2e7],mileage_buckets:[0,1e4,2e4,3e4,4e4,5e4,6e4,7e4,8e4,9e4,1e5]},this.config.lazyLoadSlots={default:{top:{enabled:!1},"top-sticky":{enabled:!1},full:{enabled:!1},default:{eventData:{distance:100,type:"visible"},event:"isAlmostVisible",preRequest:!1,enabled:!0},middle:{enabled:!1}}},this.config.breakpointRefreshSlots={default:{default:!0}},this.helpers.condition=new(function(){function e(){_classCallCheck(this,e),this.rulesResult={}}return _createClass(e,[{key:"checkVisible",value:function(e){var t=e.elementId||"",i=e.pixelToElement||0,a=document.getElementById(t);if(a){var r="none"===a.style.display,s=a.style.height?a.style.height:null;r&&(a.style.display="block",a.style.height="1px");var n=a.getBoundingClientRect();if(r&&(a.style.height=s,a.style.display="none"),0>=n.top-window.innerHeight-i&&0<=n.top+window.innerHeight+i)return!0}return!1}},{key:"checkRule",value:function(e,t){var i=e+JSON.stringify(t);if(this.rulesResult[i])return this.rulesResult[i];var a=[" container "," is "," !== "," === "," <=date "," >=date "," notin "," in "," <= "," >= "," < "," > "],r=e.split(/\s+(?:\&\&|\|\|)\s+/),s=function(e,t,i,a){var r=[];if(Array.isArray(e[t]))e[t].forEach(function(e){var t="string"==typeof e&&!["<",">","<=",">="].includes(a);r.push((t?"'":"")+e+(t?"'":"")+" "+a+" "+i)});else{var s="string"==typeof e[t]&&!["<",">","<=",">="].includes(a);r.push((s?"'":"")+e[t]+(s?"'":"")+" "+a+" "+i)}return r},n=!0;for(var o in r){for(var l in a){var u=function(e,i,a){var r=e.trim();if(-1<a.indexOf(e)){var n=(a=a.trim().replace("(","").replace(")","")).split(e);if(2!==n.length)return{isCorrect:!1,rule:i};var o=n[0].trim().match(/:[a-zA-Z0-9_-]*/);if(!o||1!==o.length)return{isCorrect:!1,rule:i};var l,u,c=o[0].replace(":",""),p="";if(p="in"===r||"notin"===r?n[1].trim().slice(1,-1).split(","):n[1].trim(),["<=date",">=date"].includes(r)){var h=Date.parse(p),f=Date.now();return{isCorrect:!0,rule:i=i.replace(a,"( ".concat(("<=date"===r?f<=h:f>=h)?"true":"false"," )"))}}if("is"===r)return"exists"===p&&(l=void 0!==t[c]),"notexists"===p&&(l=void 0===t[c]),{isCorrect:!0,rule:i=i.replace(a,"( "+(l?"true":"false")+" )")};if("container"===r)return"exists"===p&&(u=!!document.getElementById(c)),"notexists"===p&&(u=!document.getElementById(c)),{isCorrect:!0,rule:i=i.replace(a,"( "+(u?"true":"false")+" )")};if(void 0===t[c]){var d=["notin","!=="].includes(r);return{isCorrect:!0,rule:i=i.replace(a,"( "+(d?"true":"false")+" )")}}var y=[],g=r;return"notin"===r&&(g="!=="),"in"===r&&(g="==="),Array.isArray(p)?p.forEach(function(e){y=[].concat(_toConsumableArray(y),_toConsumableArray(s(t,c,e,g)))}):y=[].concat(_toConsumableArray(y),_toConsumableArray(s(t,c,p,g))),{isCorrect:!0,rule:i="notin"===r?i.replace(a,"( "+y.join(" && ")+" )"):"in"===r?i.replace(a,"( "+y.join(" || ")+" )"):i.replace(a,"( "+y.join(" && ")+" )")}}}(a[l],e,r[o]);if(u){n=u.isCorrect,u.isCorrect&&(e=u.rule);break}}if(!n)break}if(n){var c=Function("return "+e)();return this.rulesResult[i]=c,c}return!1}},{key:"checkTargeting",value:function(e){var t=e.rules||[],i=e.slotTargeting||[],a=!0,r=function(e){return i[e]?Array.isArray(t[e])&&Array.isArray(i[e])?0===t[e].filter(function(t){return -1!==i[e].indexOf(t)}).filter(function(e,t,i){return i.indexOf(e)===t}).length?(a=!1,"break"):"continue":Array.isArray(t[e])&&!Array.isArray(i[e])?-1===t[e].indexOf(i[e])?(a=!1,"break"):"continue":!Array.isArray(t[e])&&Array.isArray(i[e])?-1===i[e].indexOf(t[e])?(a=!1,"break"):"continue":Array.isArray(t[e])||Array.isArray(i[e])||i[e]===t[e]?void 0:(a=!1,"break"):(a=!1,"break")};e:for(var s in t)switch(r(s)){case"break":break e;case"continue":continue}return a}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.helpers.cookie=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=document.cookie.match("(^|[^;]+)\\s*".concat(e,"\\s*=\\s*([^;]+)"));return t?t.pop():null}},{key:"set",value:function(e,t,i){var a="".concat(e,"=").concat(t,"; expires=").concat(new Date(i).toUTCString(),"; path=/");document.cookie=a}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.helpers.impl=new(function(){function e(t,i,a,r,s){_classCallCheck(this,e),this.config=t,this.state=i,this.helpers=a,this.features=r,this.providers=s}return _createClass(e,[{key:"getSlotSettings",value:function(e,t){return t?this.config.providerSlots[e][t]:this.config.providerSlots[e]}},{key:"getProviderSettings",value:function(e){return this.config.providerSettings[e]}},{key:"getByPositionFrom",value:function(e,t,i){if(null==e)return null;var a=function(t){return e.hasOwnProperty(t)?e[t].hasOwnProperty(i)?e[t][i]:e[t].default:null},r=a(e[t]?t:"default");return void 0===r?a("default"):r}},{key:"getKeyStringFor",value:function(e,t,i){if(null==e)return null;var a=function(t){return null==e[t]?null:e[t].hasOwnProperty(i)?void 0===e[t][i]?null:"".concat(t,"-").concat(i):void 0===e[t].default?null:"".concat(t,"-default")};return a(e[t]?t:"default")||a("default")}},{key:"find",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.split("."),r=a[0].split("["),s=r[0],n=[],o=function(e,t){return t.forEach(function(t){e.hasOwnProperty(t)&&(e=e[t])}),e};if(1<r.length)for(var l=1;l<r.length;l++)n.push(parseInt(r[l].split("]")[0]));return 1===a.length?o(t[s]||i,n):s&&t.hasOwnProperty(s)&&(a.shift(),e=a.join("."),t&&s&&t[s])?(i=(t=o(t[s],n))[a[0]],this.find(e,t,i)):void 0}},{key:"isSet",value:function(e){return!(null==e||"string"==typeof e&&""===e||"object"===_typeof(e)&&0===Object.keys(e).length)}},{key:"include",value:function(e){var t=document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=e,i.type="text/javascript",i.async=!0,t.appendChild(i)}},{key:"escapeRegExp",value:function(e){return e.replace(/[-[\]{}()*+?.,\\/^$|#\s]/g,"\\$&")}},{key:"getProvider",value:function(e,t,i){return t&&i&&e?this.getByPositionFrom(e,t,i):null}},{key:"setSlotStyle",value:function(e){e.style.textAlign="center"}},{key:"setConfigParams",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.config={siteCode:this.config.siteCode,country:this.config.country,currency:this.config.currency,testToken:this.config.testToken,provider:{}},this.providers.baxterNative&&(e.config.baxterNative={domain:this.config.adsDomain}),this.features.cxense&&(e.config.cxense=this.features.cxense.getParams(e)||{});var t=this.config.responsiveSettings.breakpoints;t&&Object.keys(t).forEach(function(i){var a=t[i];if(i&&!isNaN(i)){if("undefined"==typeof window)return"unknown";window.innerWidth>=parseInt(i)&&(e.config.device=a)}})}},{key:"hasDiff",value:function(e,t){var i=!1;return Object.keys(e).forEach(function(a){var r=e[a];r&&t[a]&&JSON.stringify(r)===JSON.stringify(t[a])||(i=!0)}),i}},{key:"setSlotPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this.config.slotContainers;if(i){var a=this.getByPositionFrom(i,t.page,e);if(a&&Object.keys(a).length){var r=null,s=null;for(var n in a)if(this.getByPositionFrom(this.config.enabledSlots,t.page,n)){var o=a[n];if(o&&this.helpers.condition.checkRule(o,t)){s=n;break}o||(r=n)}t.position=s||r}}}},{key:"allowSlot",value:function(e){var t=e.page,i=e.position,a=this.config.enabledSlots;return this.getByPositionFrom(a,t,i)}},{key:"groupSlots",value:function(e){var t=this,i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],a={};return Object.keys(this.state.slots).forEach(function(r){if(!e||0===e.length||e.includes(r)){var s=t.state.slots[r],n=document.getElementById(r);if(s){if(t.features.breakpointRefresh&&i&&!t.features.breakpointRefresh.isSlotBreakpoint(s))n.style.display="none";else{var o=s.provider;o&&(a[o]||(a[o]=[]),a[o].push(s))}}}}),a}},{key:"addListener",value:function(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on".concat(e),i)}},{key:"removeListener",value:function(e,t,i){t.removeEventListener?t.removeEventListener(e,i):t.detachEvent&&t.detachEvent(e,i)}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.helpers.lifecycle=new(function(){function e(t,i,a,r,s){_classCallCheck(this,e),this.config=t,this.state=i,this.helpers=a,this.features=r,this.providers=s}return _createClass(e,[{key:"createSlot",value:function(e,t,i){var a=this,r=this.state.slots[e],s=this.helpers.impl.getProviderSettings(t),n=document.getElementById(e),o=this.features.lazyLoad?this.helpers.impl.getByPositionFrom(this.config.lazyLoadSlots,i.page,i.position):{},l=o.enabled;if((!this.features.lazyLoad||this.features.lazyLoad.isSlotInViewport(e,r))&&(r.status.visible=!0),n.innerHTML="",!0===r.status.visible||!l||r.status.forceCreate){if(!this.providers[t])return;this.providers[t].onCreate(r,s,function(e){e?r.external=e:n.style.display="none"})}else if(l){r.status.toUpdate=!0,this.features.lazyLoad.createLazyLoadSlot(e);var u=function(){a.features.lazyLoad.showLazyLoadSlot(e)};this.helpers.impl.removeListener(o.event,n,u),this.helpers.impl.addListener(o.event,n,u)}}},{key:"removeSlots",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],a=this.helpers.impl.groupSlots(t);Object.keys(a).forEach(function(t){var r=a[t];if(r&&0<r.length){var s=e.helpers.impl.getProviderSettings(t),n=e.providers[t],o=n?n.onRemove:null;o&&o(r,s,function(t){!0===t&&r.forEach(function(t){e.state.slots[t.id].external=null})}),r.forEach(function(t){e.features.lazyLoad&&(e.state.slots[t.id].status.visible=!1),!0===i&&delete e.state.slots[t.id]})}})}},{key:"refreshSlots",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=this.helpers.impl.groupSlots(t,i);Object.keys(r).forEach(function(t){var i=r[t];if(i&&0<i.length){var s=e.helpers.impl.getProviderSettings(t),n=e.providers[t],o=n?n.onRefresh:null;o&&o(i,_objectSpread({},s,{},a),function(e){e?i.forEach(function(e){document.getElementById(e.id).style.display=""}):i.forEach(function(e){document.getElementById(e.id).style.display="none"})})}})}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.helpers.objectMapper=new(function(){function e(t,i,a,r,s){_classCallCheck(this,e),this.config=t,this.state=i,this.helpers=a,this.features=r,this.providers=s}return _createClass(e,[{key:"isString",value:function(e){return e&&"string"==typeof e}},{key:"map",value:function(e){var t=this,i={},a=[];return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).forEach(function(r){var s=t.isString(r.key)?r.key.trim():null,n=t.isString(r.value)?r.value.trim():null,o=t.isString(r.type)?r.type.trim():null;if(null!==s&&null!==o){var l=null;if("param"===o)l=t.formatVal(t.helpers.impl.find(n,e));else if("param-keys"===o){var u="*"===n?e:t.helpers.impl.find(n,e);t.setObjectKeyValues(s,u,i)}else"range"===o&&t.features.rangeMapper?l=t.features.rangeMapper.map(n,e):"bucket"===o&&t.features.bucketMapper?l=t.features.bucketMapper.map(n,e):"static"===o?l=t.formatVal(n):"encodeUri"===o?l=encodeURIComponent(t.formatVal(t.helpers.impl.find(n,e))):"base64AndEncode"===o?l=encodeURIComponent(t.b64EncodeUnicode(t.formatVal(t.helpers.impl.find(n,e)))):"base64"===o?l=t.b64EncodeUnicode(t.formatVal(t.helpers.impl.find(n,e))):"block"===o&&a.push(s);l&&(i[s]=l)}}),a.forEach(function(e){void 0!==i[e]&&delete i[e]}),i.environment=this.config.service.environment,i.version=this.config.service.version,i}},{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return(0,String.fromCharCode)(parseInt(t,16))}))}},{key:"setObjectKeyValues",value:function(e,t,i){t&&"object"===_typeof(t)&&(e.includes(":")?this.setKvsFromObjectValues(e,t,i):"*"===e?this.setKvsFromObject(e,t,i):this.setKvsFromObjectValue(e,t,i))}},{key:"setKvsFromObject",value:function(e,t,i){var a=this;Object.keys(t).forEach(function(e){if(t.hasOwnProperty(e)){var r=a.formatVal(t[e]);e&&r&&(i[e.trim()]=r)}})}},{key:"setKvsFromObjectValue",value:function(e,t,i){var a=this;Object.keys(t).forEach(function(r){if(t.hasOwnProperty(r)){var s=t[r][e]?a.formatVal(t[r][e].trim()):null;r&&s&&(i[r.trim()]=s)}})}},{key:"setKvsFromObjectValues",value:function(e,t,i){var a=this,r=e.split(":"),s=r[0],n=r[1];Object.keys(t).forEach(function(e){if(t.hasOwnProperty(e)){var r=t[e],o=r[s],l=a.formatVal(r[n]);o&&l&&(i[o.trim()]=l)}})}},{key:"formatVal",value:function(e){return null!=e&&("object"!==_typeof(e)||Array.isArray(e))?Array.isArray(e)?e:(e+"").trim():null}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.helpers.stringMapper=new(function(){function e(t,i,a,r,s){_classCallCheck(this,e),this.config=t,this.state=i,this.helpers=a,this.features=r,this.providers=s}return _createClass(e,[{key:"map",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=i[r],n="";if(s){var o={};if(s.forEach(function(i,a){if(i){var r=i.split("${"),n=i.startsWith("${");1<r.length&&r.forEach(function(i,r){var l=i.split("}")[0];if(""!==l){var u=t.helpers.impl.find(l,e);u?o["${"+l+"}"]=u:(0<r||n)&&delete s[a]}})}}),n=s.filter(function(e){return e}).join(a),Object.keys(o).forEach(function(e){var i=RegExp(t.helpers.impl.escapeRegExp(e),"g");n=n.replace(i,o[e])}),""===n)return this.map(e,i,a,r+1)}return n}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.helpers.testToken=new(function(){function e(t,i,a){_classCallCheck(this,e),this.helpers=a,this.config=t}return _createClass(e,[{key:"get",value:function(){var e=/[?&]advertising_test_token=([^&#]*)/i.exec(window.location.href),t=new Date,i=t.setHours(t.getHours()+1),a=this.config,r=this.helpers.cookie.get,s=this.helpers.cookie.set,n=r("advertising_test_token_data");n&&(a.testToken=JSON.parse(n));var o=e?e[1]:null;if(o?s("advertising_test_token",o,i):o=r("advertising_test_token"),o){var l=new XMLHttpRequest,u="".concat(this.config.apiDomain,"/api/test-tokens/").concat(this.config.siteCode,"/").concat(o);l.open("GET",u),l.send(),l.onreadystatechange=function(){if(4===this.readyState){var e={};if(200===this.status&&l.responseText){try{e=JSON.parse(l.responseText)}catch(t){}a.testToken=e.key&&e.value?e:null}s("advertising_test_token_data",JSON.stringify(e),i)}}}}},]),e}())(this.config,this.state,this.helpers,this.features,this.providers),this.providers.dfp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"template",value:function(){return{path:[],targeting:{},sizes:[],styling:{}}}},{key:"getExtendedParams",value:function(e,t,i,a){var r={},s=a.stringMapper.map(i,t.pathPrefix||{},"/");return r.pathPrefix="/".concat(t.accountId),s&&(r.pathPrefix+="/".concat(s)),r}},{key:"transformSlot",value:function(e,t,i,a){var r=i.page,s=i.position,n=this.template();if(t.targeting){var o=a.impl.getByPositionFrom(t.targeting,r,s);n.targeting=a.objectMapper.map(i,o||{}),i.config.testToken&&(n.targeting[i.config.testToken.key]=i.config.testToken.value),i.config.cxense&&(n.targeting.CxSegments=i.config.cxense)}if(t.path){var l=a.impl.getByPositionFrom(t.path,r,s),u=a.stringMapper.map(i,l||{},"/");n.path="".concat(i.config.provider.pathPrefix,"/").concat(u)}if(t.size){var c=[{viewport:[1,1],slot:[[1,1]]}],p=a.impl.getByPositionFrom(t.size,r,s);n.sizes=(p||c).map(function(e){return e.slot&&0!==e.slot.length||(e.slot=c.slot),e}),n.sizes.reverse()}if(t.styling){var h=a.impl.getKeyStringFor(t.styling,r,s),f="baxter-style-dfp-".concat(h),d=document.getElementById(e);h&&!d.className.includes(f)&&(d.className+=" ".concat(f))}return n}},{key:"onLoad",value:function(e){window.googletag||(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]),window.googletag&&googletag.cmd.push(function(){("string"==typeof e.adsenseBackgroundColor||e.adsenseBackgroundColor instanceof String)&&googletag.pubads().set("adsense_background_color",e.adsenseBackgroundColor),"after"===e.collapseEmptyDivs&&googletag.pubads().collapseEmptyDivs(),"before"===e.collapseEmptyDivs&&googletag.pubads().collapseEmptyDivs(!0),!0===e.enableSingleRequest&&googletag.pubads().enableSingleRequest(),Array.isArray(e.targeting)&&googletag.pubads().setTargeting(e.targeting),googletag.pubads().disableInitialLoad(),googletag.enableServices()})}},{key:"onCreate",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length?arguments[2]:void 0;googletag?googletag.cmd.push(function(){var r=googletag.defineSlot(t.path,t.sizes[0].slot,t.id);r?(r.addService(googletag.pubads()),e.setSlotSizes(t.sizes,r),e.setSlotTargeting(t.targeting,r),t.external=r,googletag.display&&googletag.display(t.id),googletag.pubads().addEventListener("slotRenderEnded",function(e){if(r===e.slot){var t=new CustomEvent("slot_rendered_event",{detail:{slotId:e.slot.getSlotElementId(),slot:e.slot,isEmpty:e.isEmpty}});window.dispatchEvent(t)}}),!i.enableSingleRequest&&t.status.visible&&googletag.pubads().refresh([r]),a(r)):a(!1)}):a(!1)}},{key:"setSlotSizes",value:function(e,t){if(googletag&&googletag.sizeMapping){var i=googletag.sizeMapping();e.forEach(function(e){e.viewport&&i.addSize(e.viewport,e.slot||[])});var a=i.build();t.defineSizeMapping(a)}}},{key:"setSlotTargeting",value:function(e,t){Object.keys(e).forEach(function(i){if(e.hasOwnProperty(i)){var a=e[i];t.setTargeting(i,a)}})}},{key:"onRefresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0,a=e.filter(function(e){return e.external}).map(function(e){return e.external}),r=e.map(function(e){return e.id});if(a&&0<a.length&&r&&0<r.length&&googletag&&googletag.display){(void 0===t.disableDisplay||!1===t.disableDisplay)&&r.forEach(function(e){return googletag.display(e)});var s={};t.refreshSetting&&t.refreshSetting.changeCorrelator&&(s={changeCorrelator:t.refreshSetting.changeCorrelator}),googletag.pubads().refresh(a,s),i(!0)}else i(!1)}},{key:"onRemove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=2<arguments.length?arguments[2]:void 0;googletag&&googletag.destroySlots?(googletag.destroySlots(e.map(function(e){return e.external})),t(!0)):t(!1)}},{key:"onLoaded",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0;t.enableSingleRequest&&!0===t.enableSingleRequest&&googletag?(googletag.cmd.push(function(){googletag.pubads().refresh(e.filter(function(e){return e.external&&document.getElementById(e.id)}).map(function(e){return e.external}))}),i(!0)):i(!1)}},{key:"clear",value:function(){googletag.cmd.push(function(){googletag.pubads().clearTargeting(),googletag.destroySlots()})}},{key:"getCampaignId",value:function(e){if(e.external&&e.external.getResponseInformation){var t=e.external.getResponseInformation();return t&&t.campaignId?t.campaignId:0}return 0}},]),e}(),this.features.breakpointRefresh=new(function(){function e(t,i,a){_classCallCheck(this,e),this.state=i,this.helpers=a,this.config=t}return _createClass(e,[{key:"isSlotBreakpoint",value:function(e){if(this.helpers.impl.getByPositionFrom(this.config.breakpointRefreshSlots,e.params.page,e.params.position)){var t=e.sizes;for(var i in t){var a=t[i].viewport[0];if(this.state.breakpoint===a)return!0}}return!1}},{key:"setBreakpoints",value:function(e){var t=this,i=this.state,a=[];i.providers.forEach(function(i){var r=t.helpers.impl.getSlotSettings(i,"size")||{};Object.keys(r[e]||{}).forEach(function(i){var s=t.helpers.impl.getByPositionFrom(r,e,i)||{};Object.keys(s).forEach(function(e){var t=s[e];t.viewport&&t.viewport[0]&&!a.includes(t.viewport[0])&&a.push(t.viewport[0])})})}),a.sort(function(e,t){return t-e}),i.breakpoint=a.find(function(e){return e<=window.innerWidth}),i.breakpoints=a}},{key:"refreshSlots",value:function(){var e=this.state,t=e.breakpoints.find(function(e){return e<=window.innerWidth});t!==e.breakpoint&&(e.breakpoint=t,this.helpers.lifecycle.refreshSlots([],!0))}},]),e}())(this.config,this.state,this.helpers,this.providers),this.features.bucketMapper=new(function(){function e(t,i,a){_classCallCheck(this,e),this.helpers=a,this.config=t}return _createClass(e,[{key:"map",value:function(e,t){var i=e.trim().split(":");if(2===i.length){var a=i[0],r=i[1];if("string"==typeof a&&"string"==typeof r){var s=this.helpers.impl.find(r.trim(),t),n=this.config.buckets?this.config.buckets[a.trim()]:null;if(s&&Array.isArray(n)){if("object"===_typeof(s)&&(s.min||s.max))return this.getBuckets(s.min,s.max,n);if("string"==typeof s||!isNaN(s))return this.getBucket(s,n)}}}return null}},{key:"getBucket",value:function(e,t){return this.getBucketValue(this.getBucketPosition(e,t),t,e)}},{key:"getBuckets",value:function(e,t,i){(!t||0>t)&&(t=i[i.length-1]+1),(!e||0>e)&&(e=i[0]+1);for(var a=this.getBucketPosition(e,i),r=this.getBucketPosition(t,i),s=[],n=a;n<=r;n++)s.push(this.getBucketValue(n,i,i[n+1]));return s}},{key:"getBucketPosition",value:function(e,t){for(var i=1;i<t.length;i++)if(t[i]>=e)return i;return t.length-1}},{key:"getBucketValue",value:function(e,t,i){var a=t[e],r=t[e-1]+1;return parseInt(e)===t.length-1&&t[e]<i?">"+a:r+"-"+a}},]),e}())(this.config,this.state,this.helpers,this.providers),this.features.lazyLoad=new(function(){function e(t,i,a,r){_classCallCheck(this,e),this.state=i,this.providers=r,this.helpers=a,this.config=t}return _createClass(e,[{key:"refreshVisibleSlots",value:function(){var e=this,t=this.state.slots;Object.keys(t).forEach(function(i){var a=t[i],r=e.getLazyLoadSettings(a.params.page,a.params.position)||{};if(a.status.toUpdate&&r.enabled&&"visible"===r.eventData.type&&e.helpers.condition.checkVisible({elementId:i,pixelToElement:r.eventData.distance})){var s=document.getElementById(i);s&&s.dispatchEvent(new CustomEvent(r.event))}})}},{key:"createLazyLoadSlot",value:function(e){var t=this.state.slots[e],i=this.getLazyLoadSettings(t.params.page,t.params.position)||{};!0===t.status.toUpdate&&i.preRequest&&this.create(e,t)}},{key:"showLazyLoadSlot",value:function(e){var t=this.state.slots[e],i=this.getLazyLoadSettings(t.params.page,t.params.position)||{};!0===t.status.toUpdate&&(i.preRequest?this.helpers.lifecycle.refreshSlots([e],!1,{changeCorrelator:!1,disableDisplay:!1}):this.create(e,t),t.status.visible=!0,t.status.toUpdate=!1,t.status.blockRefresh=!1)}},{key:"create",value:function(e,t){t.status.forceCreate=!0,t.status.blockRefresh=!0,this.helpers.lifecycle.createSlot(e,t.provider,t.params)}},{key:"isSlotInViewport",value:function(e,t){var i=_slicedToArray(2<arguments.length&&void 0!==arguments[2]?arguments[2]:[0,0],2),a=(i[0],i[1],this.getLazyLoadSettings(t.params.page,t.params.position)||{});if(a.enabled&&"visible"!==a.eventData.type)return!1;if(!a.enabled)return!0;var r=document.getElementById(e);if(!r||1!==r.nodeType)return!1;var s="none"===r.style.display,n=r.style.height?r.style.height:null;s&&(r.style.display="block",r.style.height="1px");var o=r.getBoundingClientRect(),l=a.eventData.distance,u=0>=o.top-window.innerHeight-l&&0<=o.top+window.innerHeight+l;return s&&(r.style.height=n,r.style.display="none"),u}},{key:"isLazyLoadSlot",value:function(e,t){var i=this.getLazyLoadSettings(e,t);return i&&i.enabled}},{key:"getLazyLoadSettings",value:function(e,t){return this.helpers.impl.getByPositionFrom(this.config.lazyLoadSlots,e,t)}},{key:"handleTimeout",value:function(){var e=this,t=window.scrollY;setInterval((function(){t!==window.scrollY&&(t=window.scrollY,e.refreshVisibleSlots())}).bind(this),100)}},]),e}())(this.config,this.state,this.helpers,this.providers),this.features.rangeMapper=new(function(){function e(t,i,a){_classCallCheck(this,e),this.helpers=a}return _createClass(e,[{key:"map",value:function(e,t){var i=e.trim();if("string"==typeof i){var a=this.helpers.impl.find(i.trim(),t);if(a&&"object"===_typeof(a)&&a.min&&a.max){var r=parseInt(a.min),s=parseInt(a.max),n=[];if(0<s)for(var o=r;o<=s;o++)n.push(o);return n}}return null}},]),e}())(this.config,this.state,this.helpers,this.providers),this.features.styling=new(function(){function e(t){_classCallCheck(this,e),this.config=t}return _createClass(e,[{key:"fetch",value:function(){var e="baxter-style-id-".concat(this.config.siteCode,".css");if(!document.getElementById(e)){var t=document.getElementsByTagName("head")[0],i=document.createElement("link");i.id=e,i.rel="stylesheet",i.type="text/css",i.href="".concat(this.config.cdnDomain,"/web/").concat(this.config.siteCode,".css"),i.media="all",t.appendChild(i)}}},]),e}())(this.config,this.state,this.helpers,this.providers),this.init()}return _createClass(e,[{key:"initCmdQueue",value:function(e){var t=this;for(this.queue=e,this.queue.push=function(e){"function"==typeof e&&(t.queue.length?t.queue[t.queue.length]=e:e.call())};this.queue.length;){var i=this.queue.shift();"function"==typeof i&&i.call()}}},{key:"init",value:function(){this.compatibility(),this.getExternalDependencies(),this.initProviders(),this.addEventListeners(),this.includeStylesheet(),this.getTestToken()}},{key:"addEventListeners",value:function(){this.handleResize(),this.handleUrlChange(),this.handleTimeout()}},{key:"compatibility",value:function(){if("function"!=typeof window.CustomEvent){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i};e.prototype=window.Event.prototype,window.CustomEvent=e}}},{key:"getExternalDependencies",value:function(){var e=this;this.dependencies.forEach(function(t){return e.helpers.impl.include(t)})}},{key:"includeStylesheet",value:function(){this.features.styling&&this.features.styling.fetch()}},{key:"initProviders",value:function(){var e=this;Object.keys(this.providers).forEach(function(t){var i=e.helpers.impl.getProviderSettings(t),a=e.providers[t];a&&a.onLoad&&a.onLoad(i)})}},{key:"getTestToken",value:function(){this.helpers.testToken.get()}},{key:"onResize",value:function(){this.features.breakpointRefresh&&this.features.breakpointRefresh.refreshSlots()}},{key:"onPageChanged",value:function(e){var t=this;this.features.breakpointRefresh&&this.features.breakpointRefresh.setBreakpoints(e),this.features.cxense&&(this.config.cxense.intervalId=setInterval(function(){return t.features.cxense.sendPageViewEvent(e)},500))}},{key:"onUrlChanged",value:function(){}},{key:"load",value:function(){var e=this;this.features.didomi&&this.features.didomi.delayLoad()||this.state.providers.forEach(function(t){if(e.providers[t]&&e.providers[t].onLoaded){var i=e.helpers.impl.getProviderSettings(t),a=[];Object.keys(e.state.slots).forEach(function(i){var r=e.state.slots[i];r.provider!==t||r.status.blockRefresh||a.push(r)}),0<a.length&&e.providers[t].onLoaded(a,i,function(e){})}})}},{key:"set",value:function(e,t){var i=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;try{if(t=_objectSpread({},{},{},t||{}),this.features.didomi&&!this.features.didomi.hasSetUserConsentInformation())return this.features.didomi.push("set",function(){i.set(e,t,a)});if(this.features.adBlock&&(t=this.features.adBlock.applyToParams(t)),this.abTesting){var r=this.abTesting.getAssignedSegments();"object"===_typeof(r)&&(t=_objectSpread({},t,{},r))}if(this.helpers.impl.setSlotPosition(e,t),!t.position)return!1;if(this.helpers.impl.setConfigParams(t),this.features.ux&&this.features.ux.hasUxSetting()&&"blocked"===this.features.ux.checkAdvertsSlot(e))this.helpers.lifecycle.removeSlots([e]);else{this.handlePageChange(t.page);var s=t.page,n=t.position,o=e?document.getElementById(e):null,l=this.helpers.impl.getProvider(this.config.assignment,s,n)||a;if(o&&l&&this.helpers.impl.allowSlot(t,l)){var u=this.state.slots[e];o.style.display="";var c=this.helpers.impl.getSlotSettings(l),p=this.helpers.impl.getProviderSettings(l),h=this.features.lazyLoad&&this.features.lazyLoad.isLazyLoadSlot(s,n),f=this.providers[l];f.getExtendedParams&&(t.config.provider=f.getExtendedParams(c,p,_objectSpread({},{},{},t),this.helpers));var d=f.transformSlot?f.transformSlot(e,c,t,this.helpers):{};this.helpers.impl.setSlotStyle(o),u&&u.external&&!this.helpers.impl.hasDiff(d,u)&&!h?this.helpers.lifecycle.refreshSlots([u.id]):(this.features.timerRefresh&&u&&u.status.refresh.destroyed?this.features.timerRefresh.removeSlots([u.id]):this.helpers.lifecycle.removeSlots([e]),d.id=e,d.provider=l,d.params=t,d.status={toUpdate:h},this.features.timerRefresh&&(d.status.refresh={destroyed:!1,counter:0}),u=_objectSpread({},u,{},d),this.state.slots[e]=u,this.helpers.lifecycle.createSlot(e,l,u.params))}else o?o.style.display="none":!o&&e&&this.state.slots[e]&&this.helpers.lifecycle.removeSlots([e])}}catch(y){}}},{key:"setAll",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.page;var a=this.config.slotContainers,r=this.config.slotContainersOrder;a&&a[e.page]&&(r&&r[e.page]?r[e.page]:Object.keys(a[[e.page]])).forEach(function(a){t.set(a,i[a]?i[a]:e)})}},{key:"refresh",value:function(e){try{var t=[];e&&(t=Array.isArray(e)?e:[e]),this.helpers.lifecycle.refreshSlots(t)}catch(i){}}},{key:"unset",value:function(e){try{var t=[];e&&(t=Array.isArray(e)?e:[e]),this.helpers.lifecycle.removeSlots(t,!0)}catch(i){}}},{key:"clear",value:function(){var e=this;this.state.providers.forEach(function(t){e.providers[t]&&e.providers[t].clear&&e.providers[t].clear()}),Object.keys(this.state.slots).forEach(function(e){var t=document.getElementById(e+"-after");t&&(t.innerHTML="")}),this.state.slots={}}},{key:"handleUrlChange",value:function(){var e=this;this.helpers.impl.addListener("popstate",window,function(){e.onUrlChanged(window.location.href)});var t=history.pushState,i=this;history.pushState=function(){t.apply(history,arguments),i.onUrlChanged(window.location.href)}}},{key:"handleResize",value:function(){var e=this;this.helpers.impl.addListener("resize",window,function(){e.onResize()})}},{key:"handlePageChange",value:function(e){e!==this.state.page&&(this.state.page=e,this.onPageChanged(e))}},{key:"handleTimeout",value:function(){this.features.timerRefresh&&this.features.timerRefresh.handleTimeout(),this.features.lazyLoad&&this.features.lazyLoad.handleTimeout()}},]),e}();if(window.Baxter&&Array.isArray(window.Baxter.queue)){var e=window.Baxter.queue;window.Baxter=new baxter_ads,window.Baxter.initCmdQueue(e)}else window.Baxter=new baxter_ads,window.Baxter.initCmdQueue([]);